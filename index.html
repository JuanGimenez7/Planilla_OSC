<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ficha de Registro - Orquesta Sinfónica de Carabobo</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <!-- Cuadro 1 -->
      <div class="section">
        <h2>Ficha de Registro</h2>
        <h3>Información del Integrante</h3>
        <form id="registroForm">
          <label>Apellidos y nombres:</label>
          <input type="text" name="nombre" required />
          <div class="row">
            <label>Fecha de Nacimiento:</label>
            <input type="date" name="fechaNacimiento" required />
            <label>Edad:</label>
            <input type="number" name="edad" required />
            <label>Sexo:</label>
            <select name="sexo">
              <option>(Seleccionar)</option>
              <option value="F">F</option>
              <option value="M">M</option>
            </select>
          </div>
          <div class="row">
            <label>Lugar de Nacimiento:</label>
            <input type="text" name="lugarNacimiento" />
            <label>Nacionalidad:</label>
            <input type="text" name="nacionalidad" />
          </div>
          <div class="row">
            <label>Estado civil:</label>
            <input type="text" name="estadoCivil" />
            <label>N.º de Hijos:</label>
            <input type="number" name="numHijos" />
          </div>
        </form>
      </div>

      <!-- Cuadro 2 -->
      <div class="section">
        <h3>Datos del Representante Legal</h3>
        <label>Apellidos y Nombres:</label>
        <input type="text" name="nombreRepresentante" />
        <div class="row">
          <label>Cédula de Identidad:</label>
          <input type="text" name="cedulaRepresentante" />
          <label>Parentesco:</label>
          <input type="text" name="parentesco" />
        </div>
        <div class="row">
          <label>Nacionalidad:</label>
          <input type="text" name="nacionalidadRepresentante" />
          <label>Sexo:</label>
          <select name="sexoRepresentante">
            <option>(Seleccionar)</option>
            <option value="F">F</option>
            <option value="M">M</option>
          </select>
        </div>
        <h3>Información de Ingreso</h3>
        <div class="row">
          <label>Fecha de Ingreso:</label>
          <input type="date" name="fechaIngreso" />
          <label>Instrumento:</label>
          <input type="text" name="instrumento" />
        </div>
      </div>

      <!-- Cuadro 3 -->
      <div class="section">
        <h3>Datos Académicos y/o Profesionales</h3>
        <div class="row">
          <label>Preparación Académica:</label>
          <select name="preparacionAcademica">
            <option>(Seleccionar)</option>
            <option value="Primaria">Primaria</option>
            <option value="Secundaria">Secundaria</option>
            <option value="TSU">T.S.U.</option>
            <option value="Universitaria">Universitaria</option>
          </select>
          <label>Situación Laboral:</label>
          <select name="situacionLaboral">
            <option>(Seleccionar)</option>
            <option value="Fijo">Fijo</option>
            <option value="Temporal">Temporal</option>
            <option value="Medio Tiempo">Medio Tiempo</option>
            <option value="No Labora">No Labora</option>
          </select>
        </div>
        <label>Profesión:</label>
        <input type="text" name="profesion" />
      </div>

      <!-- Cuadro 4 -->
      <div class="section">
        <h3>Referencias Personales</h3>
        <div class="row">
          <label>Nombre y Apellido:</label>
          <input type="text" name="referenciaNombre1" />
          <label>Cédula:</label>
          <input type="text" name="referenciaCedula1" />
          <label>Teléfono:</label>
          <input type="text" name="referenciaTelefono1" />
        </div>
        <div class="row">
          <label>Nombre y Apellido:</label>
          <input type="text" name="referenciaNombre2" />
          <label>Cédula:</label>
          <input type="text" name="referenciaCedula2" />
          <label>Teléfono:</label>
          <input type="text" name="referenciaTelefono2" />
        </div>
        <button type="button" onclick="generarPDF()" id="botonGenerarPDF">Generar PDF</button>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script>
      function generarPDF() {
        const element = document.querySelector(".container");
        const button = document.querySelector("#botonGenerarPDF"); // Asegúrate de seleccionar correctamente el botón

        // Oculta el botón temporalmente
        button.style.display = "none";

        const options = {
          margin: 1,
          filename: "Ficha_Registro_Integrante.pdf",
          html2canvas: { scale: 1 },
          jsPDF: {
            unit: "px",
            format: [element.offsetWidth, element.offsetHeight],
            orientation: "portrait",
          },
        };

        // Genera el PDF y luego muestra el botón nuevamente
        html2pdf()
          .set(options)
          .from(element)
          .save()
          .finally(() => {
            // Vuelve a mostrar el botón
            button.style.display = "block";
          });
      }
    </script>
  </body>
</html>
