<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Programa de Formación Musical "Maestro José Calabrese" (Inscripción)</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="ico" href="imagenes/calabrese_logo.ico" />
  </head>
  <body>
    <div class="container2">
      <header class="header">
        <img id="img1a" src="imagenes/calabrese.png" alt="OSC" class="logo" />
        <h2>Programa de Formación Musical "Maestro José Calabrese"</h2>
        <h3>Fundación Orquesta Sinfónica de Carabobo</h3>
        <div class="row tiempo">
          <div>
            <label id="periodo">Periodo académico:</label>
            <input
              class="readonly"
              type="text"
              readonly
              placeholder="Se llena por el personal"
            />
          </div>
          <div class="fecha">
            <label id="fecha" for="fecha">Fecha:</label>
            <input type="date" id="fecha" name="fecha" />
          </div>
        </div>
        <div class="image-container">
          <!-- Imagen personalizada -->
          <img
            id="customPreview"
            class="custom-img"
            src="imagenes/foto_previa.png"
            alt="Selecciona una imagen"
          />
          <!-- Input de archivo oculto -->
          <input type="file" id="fileInput" accept="image/*" />
        </div>
      </header>

      <form id="registroForm">
        <!-- Cuadro 1: Información del Integrante -->
        <div class="box">
          <h3>Datos Personales del Estudiante</h3>

          <div class="row">
            <div>
              <label>Apellidos y nombres:</label>
              <input type="text" name="nombre" required />
            </div>
            <div>
              <label for="ci">Cédula:</label>
              <input type="text" id="ci" name="ci" required />
            </div>
            <div>
              <label for="fechaNacimiento">Fecha de Nacimiento:</label>
              <input
                type="date"
                id="fechaNacimiento"
                name="fechaNacimiento"
                required
              />
            </div>
          </div>

          <div class="row">
            <div>
              <label for="edad">Edad:</label>
              <input
                type="number"
                id="edad"
                name="edad"
                min="1"
                max="100"
                required
              />
            </div>
            <div>
              <label for="sexo">Sexo:</label>
              <select id="sexo" name="sexo" required>
                <option>(Seleccionar)</option>
                <option value="F">F</option>
                <option value="M">M</option>
              </select>
            </div>
            <div>
              <label for="telefono">Teléfono:</label>
              <input type="tel" id="telefono" name="telefono" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>Ocupación:</label>
              <input type="text" name="ocupacion" />
            </div>
            <div>
              <label for="direccion">Dirección:</label>
              <input type="text" id="direccion" name="direccion" />
            </div>

            <div>
              <label for="email">Email:</label>
              <input type="email" id="email" name="email" />
            </div>
          </div>
        </div>

        <!-- Cuadro 2: Datos del Representante Legal (solo menores de edad) -->
        <div class="box">
          <h3>Datos del Representante Legal (solo menores de edad)</h3>
          <div class="row">
            <div>
              <label>Apellidos y Nombres:</label>
              <input type="text" name="nombreRepresentante" />
            </div>
            <div>
              <label>Cédula:</label>
              <input type="text" name="cedulaRepresentante" />
            </div>
            <div>
              <label>Dirección:</label>
              <input type="text" name="direccionRepresentante" />
            </div>
          </div>
          <div class="row">
            <div>
              <label>Parentesco:</label>
              <input type="text" name="parentesco" />
            </div>
            <div>
              <label>Nacionalidad:</label>
              <input type="text" name="nacionalidadRepresentante" />
            </div>
            <div>
              <label>Ocupación:</label>
              <input type="text" name="Ocupacion" />
            </div>

          </div>
          <div class="row">
            <div>
              <label>Teléfono:</label>
              <input type="tel" name="telefonoRepresentante" />
            </div>
            <div>
              <label>Email:</label>
              <input type="email" name="emailRepresentante" />
            </div>

            <div>
              <label>En caso de emergencia avisar a:</label>
              <input type="text" name="avisar" />
            </div>
            <div>
              <label>Teléfono de emergencia:</label>
              <input type="tel" name="telefonoAvisar" />
            </div>
          </div>
        </div>

        <!-- Cuadro 3: Materias a inscribir (solo para ser llenado por el personal) -->
        <div class="box">
          <h3>Materias a inscribir</h3>
          <div class="row">
            <div>
              <label>Instrumento(s):</label>
              <input
                class="readonly"
                readonly
                type="text"
                name="Instrumentos"
                placeholder="Se llena por el personal"
              />
            </div>
            <div>
              <label>Docente:</label>
              <input
                class="readonly"
                readonly
                type="text"
                name="Docente"
                placeholder="Se llena por el personal"
              />
            </div>
            <div>
              <label>Materias teóricas:</label>
              <input
                class="readonly"
                readonly
                type="text"
                name="instrumento"
                placeholder="Se llena por el personal"
              />
            </div>
            <div>
              <label>Docente:</label>
              <input
                class="readonly"
                readonly
                type="text"
                name="codigo"
                placeholder="Se llena por el personal"
              />
            </div>
          </div>
          <div class="radio-buttons">
            <label>¿Posee instrumento propio?</label>
            <label>
              <input type="radio" name="instrumentoPropio" value="Si" />
              &nbsp;&nbsp; Sí
            </label>
            <label>
              <input type="radio" name="instrumentoPropio" value="No" />
              &nbsp;&nbsp;&nbsp; No
            </label>
            <label>¿Cuál?:</label>
            <input type="text" name="detalleInstrumento" />
          </div>
          <div class="radio-buttons">
            <label style="color: black; text-align: justify; margin-right: 30px"
              ><br /><br />
              Autorizo a la Fundación Orquesta Sinfónica de Carabobo a hacer uso
              del material fotográfico y audiovisual de las actividades
              académicas y artísticas que se lleven a cabo durante el desarrollo
              del Programa de Formación Musical. Las imágenes podrán ser usadas
              para la difusión en medios de comunicación y redes sociales.
            </label>
            <label style="transform: scale(1.2)">
              <input type="radio" name="instrumentoPropio" value="Si" /> Sí
            </label>
            <label style="transform: scale(1.2)">
              <input type="radio" name="instrumentoPropio" value="No" /> No
            </label>
          </div>
          <br>
          <div class="row">
            <div>
              <label>Fecha de ingreso:</label>
              <input
                class="readonly"
                readonly
                type="text"
                name="fechaIngreso"
                placeholder="Se llena por el personal"
              />
            </div>
            <div style="position: relative;"><label style="position: absolute; top:40%; left:30%;" for="Mensualidad">Mensualidad:</label></div>
            <div>
              
              <label>1 Materia:</label>
              <input
                class="readonly"
                readonly
                type="text"
                placeholder="Se llena por el personal"
              />
            </div>
            <div>
              <label>2 Materias:</label>
              <input
                class="readonly"
                readonly
                type="text"
                placeholder="Se llena por el personal"
              />
            </div>
            <div>
              <label>___ Materias:</label>
              <input
                class="readonly"
                readonly
                type="text"
                placeholder="Se llena por el personal"
              />
            </div>
          </div>
          <br><br>
          <div class="row">
            <div style="text-align: right;">
              <label>Firma del Estudiante o Representante Legal: _________________________</label><br><br>
              <label>Cédula: _________________________</label>
            </div>
          </div>
        </div>

        <button
          type="button"
          onclick="generarPDF()"
          id="botonGenerarPDF"
          class="pdf"
        >
          Generar PDF
        </button>
      </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script src="foto.js"></script>
    <script>
      function generarPDF() {
        const element = document.querySelector(".container2");
        const button = document.querySelector("#botonGenerarPDF"); // Asegúrate de seleccionar correctamente el botón

        const inputs = element.querySelectorAll("input");
        function place(c) {
          inputs.forEach((input) => {
            if (input.className === "readonly") {
              input.placeholder = `${c}`;
            }
          });
        }
        place("");

        // Oculta el botón temporalmente
        button.style.display = "none";

        const options = {
          margin: 0,
          filename: 'Programa de Formación Musical Maestro José Calabrese (Inscripción).pdf',
          html2canvas: { scale: 3 },
          jsPDF: {
            unit: "px",
            format: [element.offsetWidth, element.offsetHeight],
            orientation: "portrait",
          },
        };

        // Genera el PDF y luego muestra el botón nuevamente
        html2pdf()
          .set(options)
          .from(element)
          .save()
          .finally(() => {
            // Vuelve a mostrar el botón
            button.style.display = "block";
            place("Se llena por el personal");
          });
      }
    </script>
  </body>
</html>
