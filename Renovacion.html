<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Renovación de Inscripción</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body id="renovacion">
    <div class="container">
      <!-- Cabecera -->
      
        <header>
          <img src="imagenes/calabrese.png" alt="OSC" class="logo" />
          <h2>Renovación de Inscripción</h2>
          <div class="fecha">
            <label for="fecha">Fecha:</label>
            <input type="date" id="fecha" name="fecha" />
          </div>
        </header>

      <form>
        <!-- Primer Cuadro: Datos Personales -->
        <div class="box">
          <h3>Datos Personales del Estudiante</h3>
          <label for="nombre">Nombre(s) y Apellido(s):</label>
          <input type="text" id="nombre" name="nombre" required />

          <div class="row">
            <div>
              <label for="fechaNacimiento">Fecha de Nacimiento:</label>
              <input
                type="date"
                id="fechaNacimiento"
                name="fechaNacimiento"
                required
              />
            </div>
            <div>
              <label for="edad">Edad:</label>
              <input
                type="number"
                id="edad"
                name="edad"
                min="1"
                max="100"
                required
              />
            </div>
            <div>
              <label for="sexo">Sexo:</label>
              <select id="sexo" name="sexo" required>
                <option>(Seleccionar)</option>
                <option value="F">F</option>
                <option value="M">M</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label for="ci">Cédula:</label>
              <input type="text" id="ci" name="ci" required />
            </div>
            <div>
              <label for="telefono">Teléfono celular:</label>
              <input type="tel" id="telefono" name="telefono" required />
            </div>
            <div>
              <label for="ocupacion">Ocupación:</label>
              <input type="text" id="ocupacion" name="ocupacion" />
            </div>
          </div>
        </div>

        <!-- Segundo Cuadro: Materias y Beca -->
        <div class="box">
          <h3>Materias a Inscribir</h3>
          <div class="row">
            <div>
              <label for="beca">Beca:</label>
              <select id="beca" name="beca" required>
                <option>(Seleccionar)</option>
                <option value="Si">Sí</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <label for="cualBeca">¿Cuál?:</label>
              <input type="text" id="cualBeca" name="cualBeca" placeholder="Describa la beca"/>
            </div>
          </div>

          <label for="instrumentos">Instrumento(s):</label>
          <input type="text" id="instrumentos" name="instrumentos" />

          <label for="docenteInstrumentos">Docente(s) de instrumento(s):</label>
          <input
            type="text"
            id="docenteInstrumentos"
            name="docenteInstrumentos"
          />

          <label for="materiasTeoricas">Materias Teóricas:</label>
          <input type="text" id="materiasTeoricas" name="materiasTeoricas" />

          <label for="docenteTeoricas">Docente(s) de materias teóricas:</label>
          <input type="text" id="docenteTeoricas" name="docenteTeoricas" />

          <label for="otros">Otros:</label>
          <textarea id="otros" name="otros"></textarea>

          <div class="row">
            <div>
              <label for="instrumentoPropio">¿Posee nstrumento propio?</label>
              <select id="instrumentoPropio" name="instrumentoPropio" required>
                <option>(Seleccionar)</option>
                <option value="Si">Sí</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <label for="cualBeca">¿Cuál?:</label>
              <input
                type="text"
                id="cualInstrumento"
                name="cualInstrumento"
                placeholder="¿Cuál instrumento posee?"
              />
            </div>
          </div>
        </div>

        <!-- Botón para generar PDF -->
        <button type="button" onclick="generarPDF()" id="botonGenerarPDF">
          Generar PDF
        </button>
      </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
      async function generarPDF() {
        // Importa la librería jsPDF
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        // Agregar el título principal centrado
        const titulo = "Renovación de Inscripción";
        doc.setFontSize(16);
        doc.setFont("helvetica", "bold");
        const pageWidth = doc.internal.pageSize.width; // Ancho de la página
        const textWidth = doc.getTextWidth(titulo); // Ancho del texto
        const xPos = (pageWidth - textWidth) / 2; // Calcula posición centrada
        doc.text(titulo, xPos, 10);

        // Línea debajo del título
        doc.setLineWidth(0.5);
        doc.line(10, 15, pageWidth - 10, 15); // Dibuja una línea horizontal

        // Función para agregar una sección al PDF
        const agregarSeccion = (titulo, contenido, yInicial) => {
          let y = yInicial;
          doc.setFontSize(14);
          doc.text(titulo, 10, y);
          y += 6;

          doc.setFontSize(12);
          contenido.forEach((linea) => {
            doc.text(linea, 10, y);
            y += 6;
          });
          return y;
        };

        // Obtiene los valores del formulario
        const nombre = document.getElementById("nombre").value;
        const fechaNacimiento =
          document.getElementById("fechaNacimiento").value;
        const edad = document.getElementById("edad").value;
        const sexo = document.getElementById("sexo").value;
        const ci = document.getElementById("ci").value;
        const telefono = document.getElementById("telefono").value;
        const ocupacion = document.getElementById("ocupacion").value;

        const beca = document.getElementById("beca").value;
        const cualBeca = document.getElementById("cualBeca").value;
        const instrumentos = document.getElementById("instrumentos").value;
        const docenteInstrumentos = document.getElementById(
          "docenteInstrumentos"
        ).value;
        const materiasTeoricas =
          document.getElementById("materiasTeoricas").value;
        const docenteTeoricas =
          document.getElementById("docenteTeoricas").value;
        const otros = document.getElementById("otros").value;
        const instrumentoPropio =
          document.getElementById("instrumentoPropio").value;
        const cualInstrumento =
          document.getElementById("cualInstrumento").value;

        // Datos personales
        let y = 20; // Comienza después del título
        y = agregarSeccion(
          "Datos Personales del Estudiante",
          [
            `Nombre(s) y Apellido(s): ${nombre}`,
            `Fecha de Nacimiento: ${fechaNacimiento}`,
            `Edad: ${edad}`,
            `Sexo: ${sexo}`,
            `Cédula: ${ci}`,
            `Teléfono: ${telefono}`,
            `Ocupación: ${ocupacion}`,
          ],
          y
        );

        // Materias y beca
        y = agregarSeccion(
          "Materias a Inscribir ",
          [
            `Beca: ${beca}`,
            `¿Cuál Beca?: ${cualBeca}`,
            `Instrumento(s): ${instrumentos}`,
            `Docente(s) de instrumento(s): ${docenteInstrumentos}`,
            `Materias Teóricas: ${materiasTeoricas}`,
            `Docente(s) de materias teóricas: ${docenteTeoricas}`,
            `Otros: ${otros}`,
            `Posee Instrumento Propio: ${instrumentoPropio}`,
            `¿Cuál Instrumento?: ${cualInstrumento}`,
            "Incripcion:",
            "Mensualidad",
          ],
          y + 10
        );

        // Guarda el PDF
        doc.save("Renovacion_Inscripcion.pdf");
      }
    </script>
  </body>
</html>
