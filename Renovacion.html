<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Renovación de Inscripción</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body id="renovacion">
    <div class="container2">
      <!-- Cabecera -->
      
      <header class="header">
        <img id="img1a" src="imagenes/calabrese.png" alt="OSC" class="logo" />
        <h2>Programa de Formación Musical "Maestro José Calabrese"</h2>
        <h3>Fundación Orquesta Sinfónica de Carabobo</h3>
        <h3>Renovación de Inscripción</h3>
        <div class="row tiempo">
          <div>
            <label id="periodo">Periodo académico:</label>
            <input class="readonly" type="text" readonly placeholder="Se llena por el personal" />
          </div>
          <div class="fecha">
            <label id="fecha" for="fecha">Fecha:</label>
            <input type="date" id="fecha" name="fecha" />
          </div>
        </div>
        <div class="image-container">
          <!-- Imagen personalizada -->
          <img id="customPreview" class="custom-img" src="imagenes/foto_previa.png" alt="Selecciona una imagen">
          <!-- Input de archivo oculto -->
          <input type="file" id="fileInput" accept="image/*">
        </div>
      </header>

      <form>
        <!-- Primer Cuadro: Datos Personales -->
        <div class="box">
          <h3>Datos Personales del Estudiante</h3>
          <label for="nombre">Nombre(s) y Apellido(s):</label>
          <input type="text" id="nombre" name="nombre" required />

          <div class="row">
            <div>
              <label for="fechaNacimiento">Fecha de Nacimiento:</label>
              <input
                type="date"
                id="fechaNacimiento"
                name="fechaNacimiento"
                required
              />
            </div>
            <div>
              <label for="edad">Edad:</label>
              <input
                type="number"
                id="edad"
                name="edad"
                min="1"
                max="100"
                required
              />
            </div>
            <div>
              <label for="sexo">Sexo:</label>
              <select id="sexo" name="sexo" required>
                <option>(Seleccionar)</option>
                <option value="F">F</option>
                <option value="M">M</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label for="ci">Cédula:</label>
              <input type="text" id="ci" name="ci" required />
            </div>
            <div>
              <label for="telefono">Teléfono celular:</label>
              <input type="tel" id="telefono" name="telefono" required />
            </div>
            <div>
              <label for="ocupacion">Ocupación:</label>
              <input type="text" id="ocupacion" name="ocupacion" />
            </div>
          </div>
        </div>

        <!-- Segundo Cuadro: Materias y Beca -->
        <div class="box">
          <h3>Materias a Inscribir</h3>
          <div class="row">
            <div>
              <label for="beca">Beca:</label>
              <select id="beca" name="beca" required>
                <option>(Seleccionar)</option>
                <option value="Si">Sí</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <label for="cualBeca">¿Cuál?:</label>
              <input type="text" id="cualBeca" name="cualBeca" placeholder="Describa la beca"/>
            </div>
          </div>

          <label for="instrumentos">Instrumento(s):</label>
          <input type="text" id="instrumentos" name="instrumentos" />

          <label for="docenteInstrumentos">Docente(s) de instrumento(s):</label>
          <input
            type="text"
            id="docenteInstrumentos"
            name="docenteInstrumentos"
          />

          <label for="materiasTeoricas">Materias Teóricas:</label>
          <input type="text" id="materiasTeoricas" name="materiasTeoricas" />

          <label for="docenteTeoricas">Docente(s) de materias teóricas:</label>
          <input type="text" id="docenteTeoricas" name="docenteTeoricas" />

          <label for="otros">Otros:</label>
          <textarea id="otros" name="otros"></textarea>

          <div class="row">
            <div>
              <label for="instrumentoPropio">¿Posee nstrumento propio?</label>
              <select id="instrumentoPropio" name="instrumentoPropio" required>
                <option>(Seleccionar)</option>
                <option value="Si">Sí</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <label for="cualBeca">¿Cuál?:</label>
              <input
                type="text"
                id="cualInstrumento"
                name="cualInstrumento"
                placeholder="¿Cuál instrumento posee?"
              />
            </div>
          </div>
        </div>

        <!-- Botón para generar PDF -->
        <button type="button" onclick="generarPDF()" id="botonGenerarPDF">
          Generar PDF
        </button>
      </form>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script>
      function generarPDF() {
        const element = document.querySelector(".container2");
        const button = document.querySelector("#botonGenerarPDF"); // Asegúrate de seleccionar correctamente el botón

        // Oculta el botón temporalmente
        button.style.display = "none";

        const options = {
          margin: 1,
          filename: "Ficho_Registro_Estudiante.pdf",
          html2canvas: { scale: 1 },
          jsPDF: {
            unit: "px",
            format: [element.offsetWidth, element.offsetHeight],
            orientation: "portrait",
          },
        };

        // Genera el PDF y luego muestra el botón nuevamente
        html2pdf()
          .set(options)
          .from(element)
          .save()
          .finally(() => {
            // Vuelve a mostrar el botón
            button.style.display = "block";
          });
      }
    </script>
  </body>
</html>
